<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Pure frontend speech-to-text application based on WhisperCPP" />
  <title>Whisper Web Transcription</title>
</head>

<body>
  <div id="app">
    <!-- Top Bar with Title and Language Selector -->
    <header class="top-bar">
      <div class="top-bar-content">
        <div class="title-section">
          <h1>Whisper Web Transcription</h1>
          <span class="subtitle">Pure frontend speech-to-text application based on WhisperCPP</span>
        </div>
        <div class="ui-language-selector">
          <div id="ui-language-select" aria-label="Select interface language"></div>
        </div>
      </div>
    </header>

    <!-- Main Content Container -->
    <div class="main-content">
      <main class="main-grid">
      <!-- Left Panel: Controls -->
      <div class="controls-panel">
        <!-- Left Side: Settings and Tabs -->
        <div class="controls-left">
          <!-- Language Selector -->
          <div class="language-selector">
            <label for="language-select">Language:</label>
            <div id="language-select"></div>
          </div>

          <!-- Tab Buttons -->
          <div class="tab-container" role="tablist" aria-label="Function selection">
            <button class="tab-button active" data-tab="record" role="tab" aria-selected="true">
              <span class="tab-icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                  <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                </svg>
              </span>
              <span class="tab-label">Real-time Recording</span>
            </button>
            <button class="tab-button" data-tab="upload" role="tab" aria-selected="false">
              <span class="tab-icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                </svg>
              </span>
              <span class="tab-label">File Upload</span>
            </button>
          </div>
        </div>

        <!-- Right Side: Tab Content -->
        <div class="controls-right">
          <!-- Recording Controls -->
          <div id="record-tab" class="tab-content active" role="tabpanel">
            <div class="recording-section">
              <button id="record-button" class="record-button" aria-label="Start Recording">
                <span class="record-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                    <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                  </svg>
                </span>
              </button>
              <div class="record-info">
                <span class="record-text">Start Recording</span>
                <div id="recording-status" class="recording-status hidden" aria-live="polite">
                  <span class="recording-indicator"></span>
                  <span id="recording-duration">00:00</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Upload Controls -->
          <div id="upload-tab" class="tab-content" role="tabpanel">
            <div class="upload-section">
              <div class="upload-area" id="upload-area" role="button" tabindex="0" aria-label="Select audio file">
                <span class="upload-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                  </svg>
                </span>
                <p class="upload-text">Drop file or click</p>
                <p class="upload-hint">MP3, WAV, M4A, OGG</p>
                <input type="file" id="file-input" accept="audio/*" hidden aria-label="Select audio file" />
              </div>
              <div id="file-info" class="file-info hidden">
                <p id="file-name"></p>
                <p id="file-details"></p>
                <button id="transcribe-button" class="transcribe-button">
                  Start Transcription
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Panel: Results -->
      <div class="results-panel">
        <div class="results-header">
          <h3>Results</h3>
          <button id="copy-button" class="copy-button hidden" aria-label="Copy transcription text">
            Copy
          </button>
        </div>
        <div class="results-content">
          <div id="transcription-result" class="transcription-result" role="log" aria-live="polite">
            <p class="placeholder-text">Transcription results will appear here...</p>
          </div>
          <div id="loading-indicator" class="loading-indicator hidden" aria-live="polite">
            <div class="spinner"></div>
            <p id="loading-text">Processing...</p>
          </div>
        </div>
      </div>
    </main>
    </div>

    <!-- Footer -->
    <footer class="app-footer">
      <p>This application runs entirely in your browser and does not upload any audio data</p>
    </footer>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>